<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body>
    <div class="container">
        <div class="heading">
          <h1>CrystalsCollector!</h1>
        </div>
       <div class="content">
        <p>You will be given a random number at the start of the game.<br><br>There are four crystals below. By clicking on a crystal you will add a specific amount of points to your total score.<br><br>You win the game by matching your total score to random number, you lose the game if your total score to random number, you lose the game if your total score goes above the random number.<br><br>The value of each crystal is hidden from you until you click on it.<br><br>Each time when the game starts, the game will change the values of each crystal.</p>
       </div>
       <div class="wrapper">
          <div id="number-to-guess">

          </div>
          <div class="numbers">
            <h3 id="win"></h3>
            <h3 id="loose"></h3>
            <h3 id="score"></h3>
         </div>
       </div>
      <div id = "crystal">
      </div>

      

    </div>
    
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">
    
  $(document).ready(function () {


    var randomNumber;

    randomNumber = Math.floor(Math.random() * 101) + 19;
    
    
    $("#number-to-guess").text(randomNumber);

    var win = 0;
    var lost = 0;
    var counter = 0;
    var images =["crystals.png", "diamond.png","superthumb.png","pendants.png"]
    for (var i=0; i<images.length; i++){
      var randomValue = Math.floor(Math.random() * 11) +1;
      console.log("initial set up random = " + randomValue);
     // var myDiv = $("<div class=" + "")
      var imageCrystal = $("<img>");

      imageCrystal.addClass("crystal-image");
        
      imageCrystal.attr("src", images[i]);
      imageCrystal.val(randomValue);
      //imageCrystal.attr("data-value", randomValue);
      
      //imageCrystal.html(randomValue);
     
      $("#crystal").append(imageCrystal);
      console.log(imageCrystal);
    }
    $(".crystal-image").on("click",function(event){
      var crystalValue = event.target.value
      console.log("crystalValue = " + crystalValue)
         //crystalValue = parseInt(crystalValue);
         
          counter += parseInt(crystalValue)
          $("#score").text("score :" + counter);
         //alert("New score " + counter);
      console.log(counter)
      if (counter === randomNumber){
      win++;
     // counter =0;
     // randomNumber = Math.floor(Math.random() * 101) + 19;
     
      reset();
    }
    if(counter > randomNumber){
      lost++;
      //counter =0;
      //randomNumber = Math.floor(Math.random() * 101) + 19;
      
     reset();
      
      }

      function reset(){
        console.log("func reset");
        randomNumber = Math.floor(Math.random() * 101) + 19;
          $("#number-to-guess").text(randomNumber);
          console.log("images = " + images.length);
          for (var i=0; i < images.length; i++){
                var randomValue = Math.floor(Math.random() * 11) +1;
                console.log("crystal random num = " + randomValue);
              // var myDiv = $("<div class=" + "")
                //var imageCrystal = $("<img>");                  
                //$("image").(randomValue);              
                //$("#crystal").append(imageCrystal);
                
          }
          //document.getElementById("crystal").innerHTML = "";
          // $("#cystal").empty();
          // $("#cystal").html = "";
          // for (var i=0; i<images.length; i++){
          //     var randomValue = Math.floor(Math.random() * 11) +1;
          //     console.log("reset set up random = " + randomValue);
          //   // var myDiv = $("<div class=" + "")
          //     var imageCrystal = $("<img>");

          //     imageCrystal.addClass("crystal-image");
                
          //     imageCrystal.attr("src", images[i]);
          //     imageCrystal.val(randomValue);
          //     //imageCrystal.attr("data-value", randomValue);
              
          //     //imageCrystal.html(randomValue);
            
          //     $("#crystal").append(imageCrystal);
          //     console.log(imageCrystal);
          // }

        counter =0;
      }

    $("#win").text("wins :" + win);
    $("#loose").text("lost :" + lost);
  

    })
  
  })

    </script>

    
</body>
</html>